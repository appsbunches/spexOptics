{% extends "layout.twig" %} {% block header %} {{ include('header.twig') }} {%
endblock %} {% block top_links %}
<link
  rel="stylesheet"
  type="text/css"
  href="{{ asset_url ~ 'toastr.min.css' }}"
/>
<link
  rel="stylesheet"
  type="text/css"
  href="{{ asset_url ~ 'cart.css?v=1.40' }}"
/>
{% endblock %} {% block main_content %} 

 {# breadcrumps #}
 {% embed 'breadcrumb.twig' %}
                {% block breadcrumb_items %}
                    <li class="breadcrumb-item" aria-current="page"><a href="/">{{ locals.home_title }}</a></li>
                        {% if session.lang.code == 'ar' %}
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg" >
                        <path d="M7 1L2 6L7 11" stroke="#333333" stroke-width="1.5"/>
                        </svg>
                    {% else %}
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="rotateIcon">
                        <path d="M7 1L2 6L7 11" stroke="#333333" stroke-width="1.5"/>
                        </svg>
                    {% endif %}
                    <li class="breadcrumb-item active " aria-current="page">{{ locals.cart_page.cart }}</li>
                {% endblock %}
    {% endembed %}
    {# small hero section #}
    {% if  settings.banners_banner_cart_page_image %}        
      {% include 'smallHero.twig' with { 'image' :  settings.banners_banner_cart_page_image } %}
    {% endif %}



<div
  class="text-center d-flex justify-content-center align-items-center w-100 loadingIndicatorCart"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
    preserveAspectRatio="xMidYMid"
    width="66"
    height="66"
    style="shape-rendering: auto; background: rgb(255, 255, 255)"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <g>
      <circle
        stroke-dasharray="164.93361431346415 56.97787143782138"
        r="35"
        stroke-width="10"
        stroke="#0a3254"
        fill="none"
        cy="50"
        cx="50"
      >
        <animateTransform
          keyTimes="0;1"
          values="0 50 50;360 50 50"
          dur="1s"
          repeatCount="indefinite"
          type="rotate"
          attributeName="transform"
        ></animateTransform>
      </circle>
      <g></g>
    </g>
    <!-- [ldio] generated by https://loading.io -->
  </svg>
</div>

<div class="container mb-5 mt-5 cartContainer" style="display: none">
  <div class="cart-view">
    <div
      class="cart-empty pt-5 pbb-5 {% if cart.products_count > 0 %}d-none{% endif %}"
    >
      <div class="d-flex flex-column align-items-center">
        <span
          class="icon-shopping_cart_black_36dp-1-1 theme-title-primary"
          style="font-size: 90px"
        >
          <span class="path1"></span><span class="path2"></span>
        </span>
        <h1 class="mt-3">{{ locals.cart_list_empty }}</h1>
        <div class="mt-3">
          <a href="/products" class="btn btn-outline-primary btn-lg btn-block">
            {{ locals.cart_back_to_store }}
          </a>
        </div>
      </div>
    </div>

    <div
      class="row cart-products-with-totals align-items-start g-4 {% if cart.products_count <= 0 %}d-none{% endif %}"
    >
      <div class="col-12 col-lg-4  pt-4 pb-3 px-3 product-table">
        <div class="cart-totals-div d-flex flex-column gap-5">
          <div class="head d-flex justify-content-between flex-wrap gap-3">
            <span>{{ locals.cart_page.desc }}</span>
            <span>{{ locals.cart_page.value }}</span>
          </div>
          {% for cartTotal in cart.totals %}
          <div
            class="cart-product-row-wrapper cart-totals-row-wrapper border-0 d-flex justify-content-between gap-3 m-0 p-0"
          >
            <div
              class="{% if cartTotal.code == 'total' %} font-weight: 900;{% endif %} name"
            >
              {{ cartTotal.title }}
              {% if cartTotal.code == 'total' and
              store.is_cart_total_vat_included %}&nbsp;<small>{{
                locals.sys_lbl_cart_includes_vat
              }}</small
              >{% endif %}
            </div>
            <div class="{% if cartTotal.code == 'total' %} font-weight: 900;{% endif %} value">
              {{ cartTotal.value_string }}
            </div>
          </div>
          {% endfor %}
           
        </div>

        <div>{{ template_for_cart_payments_widget }}</div>

        <div class="coupon-form mt-5">
          <form>
            <div class="form-group mx-auto">
              <div class="d-flex h-100">
                <input
                  class="form-control send-coupon h-100"
                  type="text"
                  placeholder="{{ locals.coupon_discount_enter }}"
                />
                <button
                  type="button"
                  class="btn btn-primary rounded-0 m-0 h-100"
                  onclick="sendCoupon()"
                >
                  <img
                    class="send-coupon-progress d-none"
                    src="{{ asset_url }}spinner.gif"
                    width="15"
                    height="15"
                  />
                  {{ locals.coupon_discount_submit }}
                </button>
              </div>
            </div>
          </form>

          {% if cart.coupon.message %}
          <div class="message-coupon alert alert-primary" role="alert">
            <span>{{ cart.coupon.message }}</span
            >&nbsp;
            <a onclick="deleteCoupon()" style="color: inherit; cursor: pointer">
              <span class="icon-trash-alt"></span>
              <img
                class="delete-coupon-progress d-none"
                src="{{ asset_url }}spinner.gif"
                width="15"
                height="15"
              />
            </a>
          </div>
          {% endif %}
        </div>

        <div
          class="cart-discount-rule-wrapper free-shipping-rule-section mt-5 {% if cart.fee_shipping_discount_rules %}d-block{% else %}d-none{% endif %}"
        >
          <div class="d-flex align-items-center">
            <div class="message flex-grow-1 free-shipping-rule-message">
              {{
                cart.fee_shipping_discount_rules.conditions_subtotal.status.message
              }}
            </div>
            <div class="discount-progress flex-shrink-0">
              <span
                class="free-shipping-rule-done {% if cart.fee_shipping_discount_rules.conditions_subtotal.status.code == 'applied' %}d-inline-block{% else %}d-none{% endif %}"
              >
                <span
                  style="font-size: 28px"
                  class="icon-done text-color-primary"
                ></span>
              </span>
            </div>
          </div>
          <div
            class="discount-progress-linear"
            class="{% if cart.fee_shipping_discount_rules.conditions_subtotal.status.code == 'min_not_reached' %}d-block{% else %}d-none{% endif %}"
          >
            <div
              class="progress-bar free-shipping-rule-progress"
              style="width: {{
                cart.fee_shipping_discount_rules.conditions_subtotal
                  .products_subtotal_percentage_from_min
              }}%"
            >
              {% if
              cart.fee_shipping_discount_rules.conditions_subtotal.status.code
              == 'applied' %}
              <span>{{ locals.coupon_discount_free_shipping }}</span>
              {% else %}
              <span
                >{{
                  cart.fee_shipping_discount_rules.conditions_subtotal.products_subtotal_percentage_from_min
                }}%</span
              >
              {% endif %}
            </div>
          </div>
        </div>

        <div class="d-flex flex-column gap-4 mt-5 buttons-footer">
          <div class="conBtn">
            {% if store.availability.closed_now %}
            <a
              href="#"
              class="btn btn-lg btn-block btn-disabled w-100 continue-shop"
            >
              {{ locals.cart_continue_to_purchase }}
            </a>
            {% else %}
            <a
              href="{% if customer %}/checkout/choose-address-and-shipping{% else %}/auth/login?redirect_to=/checkout/choose-address-and-shipping{% endif %}"
              class="btn btn-primary btn-lg btn-block w-100 continue-shop"
            >
              {{ locals.cart_continue_to_purchase }}
            </a>
            {% endif %}
          </div>

          {% if store.gift_order_settings.is_gift_order_enabled == '1' %}
          <div class="card border-0 text-body">
            {{ template_for_cart_gifts_widget }}
          </div>
          {% endif %}

          <div class="conBtn">
            <a
              href="/products"
              class="btn btn-outline-primary btn-lg btn-block w-100 return-store"
            >
              {{ locals.cart_back_to_store }}
            </a>
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-8">
        <div class="section-cart-products">
          <div class="custom-cart border radius30">
            {# header #}
            <div class="header_cart d-flex px-5 py-3">
               <div class="flex-1">
                <span>{{ locals.cart_page.product }}</span>
               </div>
               <div class="flex-1 d-flex justify-content-between d-none d-md-flex">
                <span class="flex-1">{{ locals.cart_page.quantity }}</span>
                <span class="flex-1">{{ locals.cart_page.price }}</span>
               </div>
            </div>
            <div class="myCart px-5 py-3"></div>
          </div>
          <div class="template_for_cart_products_list">
            {# {{ template_for_cart_products_list }} #}
          </div>

          {% if cart.gift_card_details | length > 0 %}
          <div class="cart-gift-card">
            <p class="font-weight-bold mb-2">
              <img
                src="{{ asset_url }}gift_icon.png"
                style="display: inline-block"
              />
              {{ locals.cart_send_as_gift_info }}
            </p>
            <p class="mb-2">
              <span
                >{{ locals.products_list_filter_price_from }}:
                {{ cart.gift_card_details.sender_name }}</span
              >
              <span class="mx-2"
                >{{ locals.products_list_filter_price_to }}:
                {{ cart.gift_card_details.receiver_name }}</span
              >
            </p>
            {% if cart.gift_card_details.gift_message | length > 0 %}
            <p class="mb-0">
              <span>{{ locals.cart_gift_card_info_message }}: </span>
              {{ cart.gift_card_details.gift_message }}
            </p>
            {% endif %}
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>

{% endblock %} 
{% block footer_scripts %}
<script type="text/javascript" src="{{ asset_url ~ 'toastr.min.js' }}"></script>

{{ cart_view_scripts | raw }}

<script>

    $( document ).ready(function() {
        addDeleteProgressImage()
    });

    function addDeleteProgressImage(){
        $('.cart-product-delete a .prefix', document).addClass('d-none');
        $('.cart-product-delete a .prefix', document).html('<img class="send-coupon-progress" src="{{ asset_url }}spinner.gif" width="15" height="15"/>');
    }

    $(document).on('click','.cart-product-delete a', function(event) {
        $('.icon-delete', event.currentTarget).addClass('d-none');
        $('.prefix',event.currentTarget).removeClass('d-none');
    });

    function sendCoupon() {
        if(!$('.send-coupon-progress').hasClass('d-none'))
            return;

        $('.send-coupon-progress').removeClass('d-none');
        zid.store.cart.redeemCoupon($('.send-coupon').val())
            .then(function (response) {
                if(response.status  === 'success'){
                    toastr.success('{{ locals.sent_successfully }}', null)
                    window.location.reload();
                }else{
                    toastr.error(response.data.message, '{{ locals.sorry }}')
                }
                $('.send-coupon-progress').addClass('d-none');
            }).catch(function (err) {
                $('.send-coupon-progress').addClass('d-none');
            })
    }

    function deleteCoupon() {
        if(!$('.delete-coupon-progress').hasClass('d-none'))
            return;

        $('.delete-coupon-progress').removeClass('d-none');
        zid.store.cart.removeCoupon().then(function (response) {
            if(response.status  === 'success'){
                toastr.success('{{ locals.sent_successfully }}', null)
                window.location.reload();
            }else{
                toastr.error(response.data.message, '{{ locals.sorry }}')
            }
            $('.delete-coupon-progress').addClass('d-none');
        })
    }


    function cartProductsHtmlChanged(html, cart){
        if(cart.products_count <= 0){
            $('.cart-products-with-totals').addClass('d-none');
            $('.cart-empty').removeClass('d-none');
            return;
        }else{
            $('.cart-products-with-totals').removeClass('d-none');
            $('.cart-empty').addClass('d-none');
        }


        $('.template_for_cart_products_list').html(html);

        if(cart &&  cart.totals){
            var strCartTotlas = '';
            for(var i = 0; i < cart.totals.length; i++){
                var cartTotal = cart.totals[i];

                var totalStyle = '';

                if(cartTotal.code === 'total'){
                    totalStyle = 'font-weight: bold; color: var( --primary-color)';
                }

                var vat_included = '';
                if(cartTotal.code === 'total'){

                    var is_cart_total_vat_included = {{ store.is_cart_total_vat_included ? 'true' : 'false' }};
                    var local_sys_lbl_cart_includes_vat = '{{ locals.sys_lbl_cart_includes_vat }}';

                    if(is_cart_total_vat_included){
                        vat_included = '&nbsp;<small>'+local_sys_lbl_cart_includes_vat+'</small>';
                    }

                }


                strCartTotlas += '<div class="cart-product-row-wrapper cart-totals-row-wrapper">' +
                    '                                <div class="flex-grow-1">'+cartTotal.title+vat_included+'</div>' +
                    '                                <div class="flex-shrink-0" style="width: 30%; '+totalStyle+'">'+cartTotal.value_string+'</div>' +
                    '                            </div>'
            }

            $('.cart-totals-div').html(strCartTotlas);
        }

        if(cart.fee_shipping_discount_rules){
            $('.free-shipping-rule-section').removeClass('d-none')
            $('.free-shipping-rule-message').html(cart.fee_shipping_discount_rules.conditions_subtotal.status.message)
            $('.free-shipping-rule-progress').css('width', `${cart.fee_shipping_discount_rules.conditions_subtotal.products_subtotal_percentage_from_min}%`)
            if (cart.fee_shipping_discount_rules.conditions_subtotal.status.code === 'applied') {
                $('.free-shipping-rule-done').removeClass('d-none')
                $('.free-shipping-rule-read-more').addClass('d-none')
                $('.free-shipping-rule-progress').html('{{ locals.coupon_discount_free_shipping }}')
            }else {
                $('.free-shipping-rule-done').addClass('d-none')
                $('.free-shipping-rule-read-more').removeClass('d-none')
                $('.free-shipping-rule-progress').html(`${cart.fee_shipping_discount_rules.conditions_subtotal.products_subtotal_percentage_from_min}%`)
            }
        }else{
            $('.free-shipping-rule-section').addClass('d-none')
        }


        setCartTotalAndBadge(cart);
        addDeleteProgressImage();
    }

    // fetch data cart
    const loadingIndicatorCart = document.querySelector('.loadingIndicatorCart');
    const containerOfData = document.querySelector('.cartContainer');
    async function fetchCartProducts(){
        try {

            let cartResponse = await zid.store.cart.fetch();
            if (cartResponse.status !== 'success') return false;
            let cart = cartResponse.data.cart;
            // console.log(cart);
            createCartProducts(cart.products);
            updateTotalCart(cart);
            return cart;
        } catch (error) {
            toastr.error(error.response.message, null)
        }  finally {
        loadingIndicatorCart.classList.add('d-none');
        containerOfData.style.display = 'block';
        }

    }
    function createCartProducts(products){

         let allProducts = '';

         products?.forEach(product =>{
            //  let options = '';
            //  for (let x = 1; x <= 100; x++) {
            //        options += `<option value="${x}" ${x === product.quantity ? 'selected' : ''}>${x}</option>`;
            //  }
            console.log(product);
             allProducts += `
             <div class="d-flex flex-column flex-md-row cart-product pb-3 align-items-center border radius30 mt-4 px-3" data-product="${product.id}">
                <div class="flex-1 d-flex align-items-center gap-4">
                     <button type="button" class="d-block d-md-none" onclick="deleteProduct(${product.id})">
                        <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.55845 4.00865V14.437C2.55834 14.7348 2.61692 15.0297 2.73083 15.3048C2.84474 15.58 3.01176 15.83 3.22234 16.0406C3.43292 16.2512 3.68293 16.4182 3.95809 16.5321C4.23324 16.646 4.52815 16.7046 4.82595 16.7045H11.1743C11.7754 16.7045 12.352 16.4657 12.7771 16.0406C13.2021 15.6155 13.441 15.039 13.441 14.4378V4.00781M0.745117 4.00865H15.2551" stroke="#E11717" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M5.2793 4.0099V2.64906C5.2793 2.47039 5.3145 2.29348 5.3829 2.12842C5.4513 1.96336 5.55155 1.8134 5.67793 1.6871C5.8043 1.5608 5.95433 1.46064 6.11943 1.39235C6.28452 1.32405 6.46146 1.28895 6.64013 1.28906H9.36013C9.5388 1.28895 9.71574 1.32405 9.88084 1.39235C10.0459 1.46064 10.196 1.5608 10.3223 1.6871C10.4487 1.8134 10.549 1.96336 10.6174 2.12842C10.6858 2.29348 10.721 2.47039 10.721 2.64906V4.0099M6.1868 13.1574V8.6249M9.8143 13.1574V8.6249" stroke="#E11717" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                     </button>
                     <div class="cart_product_Img  d-flex justify-content-center align-items-center">
                        <img src="${product.images[0].thumbs.medium}" alt="${product.name}" class="object-fit-contain">
                    </div>
                    <div class="d-flex flex-column gap-3">
                        
                        <div class="cart_product_name">
                            <a href="${product.url}">${product.name}</a>
                        </div>
                        <div class="inptContainer position-relative d-block d-md-none">
                        <button type="button" class="increase_btn position-absolute start-0 top-50 translate-middle p-0 mx-4" onclick="updateProductCart(${product.id},${product.quantity + 1})">
                            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1033_20933)">
                                <path d="M8.33301 3.83203V13.1654" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M3.66577 8.5H12.9991" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_1033_20933">
                                <rect width="16" height="16" fill="white" transform="translate(0.333008 0.5)"/>
                                </clipPath>
                                </defs>
                                </svg>
                        </button>
                        <input type="number" value="${product.quantity}" onchange="updateProductCart(${product.id},this.value)" data-cart-product-id="${product.id}" class="w-100"/>
                        <button type="button" class="decrease_btn position-absolute end-0 top-50 translate-middle p-0" onclick="updateProductCart(${product.id},${product.quantity - 1})">
                            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1033_20927)">
                                <path d="M3.66577 8.5H12.9991" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_1033_20927">
                                <rect width="16" height="16" fill="white" transform="translate(0.333008 0.5)"/>
                                </clipPath>
                                </defs>
                            </svg>
                        </button>
                      </div>
                    </div>
                </div>
                <div class="flex-1 d-flex justify-content-between align-items-center d-none d-md-flex">
                   <div class="flex-1">
                     <div class="inptContainer position-relative">
                        <button type="button" class="increase_btn position-absolute start-0 top-50 translate-middle p-0 mx-4" onclick="updateProductCart(${product.id},${product.quantity + 1})">
                            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1033_20933)">
                                <path d="M8.33301 3.83203V13.1654" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M3.66577 8.5H12.9991" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_1033_20933">
                                <rect width="16" height="16" fill="white" transform="translate(0.333008 0.5)"/>
                                </clipPath>
                                </defs>
                                </svg>
                        </button>
                        <input type="number" value="${product.quantity}" onchange="updateProductCart(${product.id},this.value)" data-cart-product-id="${product.id}" class="w-100"/>
                        <button type="button" class="decrease_btn position-absolute end-0 top-50 translate-middle p-0" onclick="updateProductCart(${product.id},${product.quantity - 1})">
                            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_1033_20927)">
                                <path d="M3.66577 8.5H12.9991" stroke="#333333" stroke-linecap="round" stroke-linejoin="round"/>
                                </g>
                                <defs>
                                <clipPath id="clip0_1033_20927">
                                <rect width="16" height="16" fill="white" transform="translate(0.333008 0.5)"/>
                                </clipPath>
                                </defs>
                            </svg>
                        </button>
                      </div>
                   </div>
                   <span class="total-string flex-1 d-none d-md-block">${product.total_string}</span>
                </div>
                <div class="d-flex d-md-none border p-2 justify-content-between flex-wrap gap-3 section_price w-100">
                  ${product.net_sale_price_string ? `<div class="d-flex gap-2">
                                               <span class="sale-price mx-2">${product.net_sale_price_string}</span>
                                               <span class="duscount-price mx-2">${product.net_price_string}</span>
                                            </div>
                  ` : `<span class="sale-price mx-2">${product.net_price_string}</span>`}
                  <div class="d-flex gap-2">
                   <span class="total-word">{{ locals.cart_page.total }}</span>
                   <span class="total-price">${product.total_string}</span>
                  </div>
                </div>
              
             </div>
             `
         });

       document.querySelector('.custom-cart .myCart').innerHTML = allProducts;
    }
    // const hanldeClickIncrease = (prId) => {
    //     const selectedInputInc = document.querySelector(`input[data-cart-product-id="${prId}"]`);
    //      let currentValue = parseInt(selectedInputInc.value) || 0;

    //      selectedInputInc.value = currentValue + 1;
    //      console.log(prId);
    //      console.log(selectedInputInc);
    //      updateProductCart(prId);
    // }




    // delete cart
    function deleteProduct(product_id) {
        // animation
        const productItem = $(`.cart-product[data-product='${product_id}']`);
        var productTable = $('.product-table');
        productItem.fadeTo('slow', 0.3);
        productTable.fadeTo('slow', 0.3);

        zid.store.cart.removeProduct(product_id).then(function (response) {
            if (response.status === 'success') {
                fetchCart();
                fetchCartProducts();
            }else{

                toastr.error(response.data.message, '{{ locals.sorry }}')
            }
        }).finally(()=>{
        productItem.fadeTo('slow', 1);
        productTable.fadeTo('slow', 1);
      });
    }

    // update product
    function updateProductCart(productId,qn){
        console.log(productId,qn);
        if(qn == 0){
            deleteProduct(productId);
            return;
        }

        // animation
        const productItem = $(`.cart-product[data-product='${productId}']`);
        var productTable = $('.product-table');


        productItem.fadeTo('slow', 0.3);
        productTable.fadeTo('slow', 0.3);

        zid.store.cart.updateProduct(productId, qn).then(function (response) {
         if (response.status === 'success') {
            fetchCart();
            fetchCartProducts();
        }else{

            toastr.error(response.data.message, '{{ locals.sorry }}')
        }
      }).finally(()=>{
        productItem.fadeTo('slow', 1);
        productTable.fadeTo('slow', 1);

      });
    }

  async function updateTotalCart(myCart) {
        let tempTotalBox = '';
        if(myCart.products_count){
            myCart?.totals.forEach((total) => {

                if(total.code === 'total'){
                    const findVat =  myCart?.totals.find((v)=> v.code === 'vat');
                    let finalTotal = 0;
                    if(findVat){
                        finalTotal = (total.value + findVat?.value).toFixed(2);
                    }else{
                        finalTotal = total.value.toFixed(2);

                    }
                    tempTotalBox += `
                    <div class="cart-product-row-wrapper cart-totals-row-wrapper border-0 d-flex justify-content-between gap-3 m-0 p-0">
                        <div class="name fw-bold">
                            ${total.title}
                        </div>
                        <div class="value">
                            ${finalTotal} ${myCart?.currency?.cart_currency?.code}
                        </div>
                    </div>
                `;
                }else{
                      tempTotalBox += `
                    <div class="cart-product-row-wrapper cart-totals-row-wrapper border-0 d-flex justify-content-between gap-3 m-0 p-0">
                        <div class="name ${total.code === 'total' ? 'fw-bold' : ''}">
                            ${total.title}
                        </div>
                        <div class="value">
                            ${total.value_string}
                        </div>
                    </div>
                `;
                }
            });
            document.querySelector('.cart-view .cart-totals-div').innerHTML = tempTotalBox;
        }else{
            document.querySelector(".cart-products-with-totals").classList.add("d-none");
            document.querySelector(".cart-empty").classList.remove("d-none");
        }
    }



    fetchCartProducts();
</script>
{% endblock %} 
{% block footer %} {{ include('footer.twig') }} {% endblock %}
